#!/bin/bash

#Command line functions
help() {
	echo "test"; 
}

version() {
	echo $'version 1.1\nBuilt by Daniel Roberts';
}

base=~/Share;

build() {
 	case $flag in
 		-t) echo $base/THM/$lab;;
		-b) echo $base/HTB/$lab;;
		-e) echo $base/exam/$lab;;
		-w) echo $base/work/$lab;;
	esac
}

#Positional Parameters
flag=$1;
lab=$2;



if [[ $OPTIND -eq 1 ]] && [[ -z $flag  ]]; then echo "No options were passed";
	shift $((OPTIND-1));
	exit;
else
	#Command line arguments
	while getopts ":ht:b:ve:w:" option; do
		case $option in
		#THM, HTB, Exam or Work
		t | b | e | w ) build $flag $lab;; 
		h) help
		   exit;;
		v) version
		   exit;;
		\?) echo "Invalid Option";
			help
			exit;;
		esac

		dir=$(build);
		/bin/clear;
		/bin/mkdir -p $dir;
		echo $dir;
		cd $dir;
		$SHELL;
	done
fi